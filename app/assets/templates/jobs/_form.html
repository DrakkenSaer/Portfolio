<div class="row">
  <div class="col-md-6 col-md-offset-3">
    <form ng-submit="save(job)" 
          accept-charset="UTF-8" 
          enctype="multipart/form-data" 
          role="form"
          name="form"
          novalidate>
      <div ng-include="'shared/error_messages.html'"></div>
    
      <div class="form-group">
        <label for="title">Title</label>
        <input ng-model="job.title" 
               class="form-control" 
               id="title" 
               name="title" 
               type="text" 
               ng-minlength="6"
               required />
        <div ng-class="{'alert alert-danger':form.title.$invalid}" ng-show="form.$submitted || form.title.$touched">
          <div ng-show="form.title.$error.required">Title can't be blank.</div>
          <div ng-show="form.title.$error.minlength">Title is too short (minimum is 6 characters).</div>
        </div>
      </div>

      <div class="form-group">
        <label for="company">Company</label>
        <input ng-model="job.company" 
               class="form-control" 
               id="company" 
               name="company" 
               type="text" 
               ng-minlength="6"
               required />
        <div ng-class="{'alert alert-danger':form.company.$invalid}" 
             ng-show="form.$submitted || form.company.$touched">
          <div ng-show="form.company.$error.required">Company can't be blank.</div>
          <div ng-show="form.company.$error.minlength">Company is too short (minimum is 6 characters).</div>
        </div>
      </div>

      <div class="form-group">
        <label for="years">Years</label>
        <input ng-model="job.years" 
               class="form-control" 
               id="years" 
               name="years" 
               type="text" />
      </div>

      <div class="form-group">
        <label for="manager">Manager</label>
        <input ng-model="job.manager" 
               class="form-control" 
               id="manager" 
               name="manager" 
               type="text" />
      </div>

      <div class="form-group">
        <label for="contact">Contact</label>
        <input ng-model="job.contact" 
               class="form-control" 
               id="contact" 
               name="contact" 
               type="text" />
      </div>

      <div class="form-group">
        <label for="address">Address</label>
        <input ng-model="job.address" 
               class="form-control" 
               id="address" 
               name="address" 
               type="text" />
      </div>

      <div class="form-group">
        <label for="description">Description</label>
        <textarea ng-model="job.description" 
                  class="form-control" 
                  id="description" 
                  name="description"
                  minlength="6"
                  required>
        </textarea>
        <div ng-class="{'alert alert-danger':form.description.$invalid}" 
             ng-show="form.$submitted || form.description.$touched">
          <div ng-show="form.description.$error.required">Description can't be blank.</div>
          <div ng-show="form.description.$error.minlength">Description is too short (minimum is 6 characters).</div>
        </div>
      </div>

      <div class="form-group">
        <label for="skills">Skills</label>
        <input ng-model="job.skills" 
               class="form-control" 
               id="skills" 
               name="skills" 
               type="text" />
      </div>

      <!-- Regarding nested forms
http://www.angularjshub.com/examples/forms/nestedforms/
http://www.dahuatu.com/oYwKqzYPyE.html
-->

      <label for="job_references">References</label>

      <input ng-model="job.references[0].reference" 
             class="form-control" 
             id="job_references_attributes_0_reference" 
             name="job[references_attributes][0][reference]" 
             type="text" />

      <input ng-model="job.references[1].reference"
             class="form-control" 
             id="job_references_attributes_1_reference" 
             name="job[references_attributes][1][reference]" 
             type="text" />

      <input ng-model="job.references[2].reference"
             class="form-control" 
             id="job_references_attributes_2_reference" 
             name="job[references_attributes][2][reference]" 
             type="text" />

      <input ng-model="job.references[3].reference"
             class="form-control" 
             id="job_references_attributes_3_reference" 
             name="job[references_attributes][3][reference]" 
             type="text" />

      <input ng-model="job.references[4].reference"
             class="form-control" 
             id="job_references_attributes_4_reference" 
             name="job[references_attributes][4][reference]" 
             type="text" />

      <div class="form-group">
        <label for="image">Image</label>
        <input ng-model="job.image" 
               class="width-100" 
               id="image" 
               name="image" 
               type="file"
               ngf-select
               accept="image/*" 
               ngf-max-size="5MB" />
      </div>

      <div class="center">
        <div class="btn-group">  
          <input class="btn btn-large btn-primary" 
                 name="commit" 
                 type="submit" 
                 value="Submit" />
        </div>
        <div class="btn-group">
          <a ng-click="back()" href class="btn btn-large btn-default">&larr; Cancel</a>
        </div>
      </div>
    </form>  
  </div>
</div>